(function(a,b){b.fn.stickToTop=function(d){d=b.extend({scrollParent:window,offset:{top:0,left:0},bottomBound:0,onStick:null,onDetach:null},d,true);var f=d.scrollParent,c="",e=b((f===window)?f.document.body:f).offset();return b(this).each(function(){var n=this,j=b(n),i=j.position(),h=j.css("position"),g=j.width(),o=j.outerHeight(true),k=false,l=function(){var v=f.scrollTop||b(a).scrollTop(),q=((f==window)?window.document.body:f).offsetHeight,s=d.bottomBound&&(q-d.bottomBound-o),w=(!!s&&s<v),t=(v>=i.top-d.offset.top+e.top),u=!t;t=t&&!w;if(w&&c!=="bottomBound"){var p=j.position();j.css({position:"absolute",top:s+"px",left:p.left+"px"});c="bottomBound";if(d.onDetach){d.onDetach.call(n)}return}if(u&&c!=="initial"){var r={position:h};if(h!=="static"){b.extend(r,{top:i.top+"px",left:i.left+"px"})}j.css(r);c="initial";if(d.onDetach){d.onDetach.call(n)}return}if(t&&c!=="fixed"){j.css({position:"fixed",top:e.top+(d.offset.top||0)+"px",left:(e.left+i.left+(d.offset.left||0))+"px",width:g+"px"});c="fixed";if(d.onStick){d.onStick.call(n)}return}},m=function(p){if(k){return}k=true;window.setTimeout(function(){var q=j.css("position");i.left=j.css("position",h).position().left;j.css("position",q);c="";l();k=false},50)};b(window).on("resize",m);if(h==="relative"){h="static"}b(d.scrollParent).on("scroll",l);this.unstickToTop=function(){b(d.scrollParent).off("scroll",l);b(window).off("resize",m)}})}}(window.document,window.jQuery));