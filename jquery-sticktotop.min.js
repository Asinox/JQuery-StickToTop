(function(a,b){b.fn.stickToTop=function(d){d=b.extend({scrollParent:window,offset:{top:0,left:0},bottomBound:0,onStick:null,onDetach:null},d,true);var f=d.scrollParent,c="",e=b((f===window)?f.document.body:f).offset();return b(this).each(function(){var l=this,h=b(l),g=h.position(),j=h.css("position"),m=h.width(),i=false,k=function(){var s=f.scrollTop||b(a).scrollTop(),p=(d.bottomBound&&((f==window)?window.document.body:f).offsetHeight-d.bottomBound),t=(!!p&&p<s),q=(s>=g.top-d.offset.top+e.top),r=!q;q=q&&!t;if(t&&c!=="bottomBound"){var n=h.position();h.css({position:"absolute",top:p+"px",left:n.left+"px"});c="bottomBound";if(d.onDetach){d.onDetach.call(l)}return}if(r&&c!=="initial"){var o={position:j};if(j!=="static"){b.extend(o,{top:g.top+"px",left:g.left+"px"})}h.css(o);c="initial";if(d.onDetach){d.onDetach.call(l)}return}if(q&&c!=="fixed"){h.css({position:"fixed",top:e.top+(d.offset.top||0)+"px",left:(e.left+g.left+(d.offset.left||0))+"px",width:m+"px"});c="fixed";if(d.onStick){d.onStick.call(l)}return}};b(window).resize(function(n){if(i){return}i=true;window.setTimeout(function(){var o=h.css("position");g.left=h.css("position",j).position().left;h.css("position",o);c="";k();i=false},50)});if(j==="relative"){j="static"}b(d.scrollParent).scroll(k)})}}(window.document,window.jQuery));