(function(a,b){b.fn.stickToTop=function(d){d=b.extend({scrollParent:window,offset:{top:0,left:0},bottomBound:0,onStick:null,onDetach:null},d,true);var f=d.scrollParent,c="",e=b((f===window)?f.document.body:f).offset();return b(this).each(function(){var m=this,i=b(m),h=i.position(),k=i.css("position"),n=i.width(),g=i.outerHeight(true),j=false,l=function(){var t=f.scrollTop||b(a).scrollTop(),q=d.bottomBound&&((f==window)?window.document.body:f).offsetHeight-d.bottomBound-g,u=(!!q&&q<t),r=(t>=h.top-d.offset.top+e.top),s=!r;r=r&&!u;if(u&&c!=="bottomBound"){var o=i.position();i.css({position:"absolute",top:q+"px",left:o.left+"px"});c="bottomBound";if(d.onDetach){d.onDetach.call(m)}return}if(s&&c!=="initial"){var p={position:k};if(k!=="static"){b.extend(p,{top:h.top+"px",left:h.left+"px"})}i.css(p);c="initial";if(d.onDetach){d.onDetach.call(m)}return}if(r&&c!=="fixed"){i.css({position:"fixed",top:e.top+(d.offset.top||0)+"px",left:(e.left+h.left+(d.offset.left||0))+"px",width:n+"px"});c="fixed";if(d.onStick){d.onStick.call(m)}return}};b(window).resize(function(o){if(j){return}j=true;window.setTimeout(function(){var p=i.css("position");h.left=i.css("position",k).position().left;i.css("position",p);c="";l();j=false},50)});if(k==="relative"){k="static"}b(d.scrollParent).scroll(l)})}}(window.document,window.jQuery));