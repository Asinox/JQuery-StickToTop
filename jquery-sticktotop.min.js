(function(a,b){b.fn.stickToTop=function(d){d=b.extend({scrollParent:window,offset:{top:0,left:0},bottomBound:0,onStick:null,onDetach:null},d,true);var f=d.scrollParent,c="",e=b((f===window)?f.document.body:f).offset();return b(this).each(function(){var m=this,i=b(m),h=i.position(),k=i.css("position"),n=i.width(),g=i.outerHeight(true),j=false,l=function(){var u=f.scrollTop||b(a).scrollTop(),p=((f==window)?window.document.body:f).offsetHeight,r=d.bottomBound&&(p-d.bottomBound-g),v=(!!r&&r<u),s=(u>=h.top-d.offset.top+e.top),t=!s;s=s&&!v;if(v&&c!=="bottomBound"){var o=i.position();i.css({position:"absolute",top:r+"px",left:o.left+"px"});c="bottomBound";if(d.onDetach){d.onDetach.call(m)}return}if(t&&c!=="initial"){var q={position:k};if(k!=="static"){b.extend(q,{top:h.top+"px",left:h.left+"px"})}i.css(q);c="initial";if(d.onDetach){d.onDetach.call(m)}return}if(s&&c!=="fixed"){i.css({position:"fixed",top:e.top+(d.offset.top||0)+"px",left:(e.left+h.left+(d.offset.left||0))+"px",width:n+"px"});c="fixed";if(d.onStick){d.onStick.call(m)}return}};b(window).resize(function(o){if(j){return}j=true;window.setTimeout(function(){var p=i.css("position");h.left=i.css("position",k).position().left;i.css("position",p);c="";l();j=false},50)});if(k==="relative"){k="static"}b(d.scrollParent).scroll(l)})}}(window.document,window.jQuery));