(function(a,b){b.fn.stickToTop=function(d){d=b.extend({scrollParent:window,offset:{top:0,left:0},minParentHeight:false,bottomBound:false,onStick:null,onDetach:null},d,true);var f=d.scrollParent,c="",e=b((f===window)?f.document.body:f).offset();return b(this).each(function(){var o=this,j=b(o),i=j.position(),h=j.css("position"),g=j.width(),p=j.outerHeight(true),k=false,m=false,l=function(){var w=f.scrollTop||b(a).scrollTop(),r=((f==window)?window.document.body:f).offsetHeight,t=d.bottomBound&&(r-d.bottomBound-p),x=(!!t&&t<w),u=(w>=i.top-d.offset.top+e.top),v=!u;if(d.minParentHeight&&r<d.minParentHeight){return}u=u&&!x;if(x&&c!=="bottomBound"){var q=j.position();j.css({position:"absolute",top:t+"px",left:q.left+"px"});c="bottomBound";if(d.onDetach){d.onDetach.call(o)}return}if(v&&c!=="initial"){var s={position:h};if(h!=="static"){b.extend(s,{top:i.top+"px",left:i.left+"px"})}j.css(s);c="initial";if(d.onDetach){d.onDetach.call(o)}return}if(u&&c!=="fixed"){j.css({position:"fixed",top:e.top+(d.offset.top||0)+"px",left:(e.left+i.left+(d.offset.left||0))+"px",width:g+"px"});c="fixed";if(d.onStick){d.onStick.call(o)}return}},n=function(q){if(k){return}k=true;window.setTimeout(function(){if(m){return}var r=j.css("position");i.left=j.css("position",h).position().left;j.css("position",r);c="";l();k=false},50)};b(window).on("resize",n);if(h==="relative"){h="static"}b(d.scrollParent).on("scroll",l);this.unstickToTop=function(){m=true;b(d.scrollParent).off("scroll",l);b(window).off("resize",n)}})}}(window.document,window.jQuery));